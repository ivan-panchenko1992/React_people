(this.webpackJsonpreact_people=this.webpackJsonpreact_people||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(7),s=n.n(r),a=(n(14),n(6)),i=n(3),o=n(23),u=(n(15),n(16),function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.results})).catch((function(){return new Error("Request failed")}))}),l=function(){return u("".concat("https://swapi.dev/api/","people"))},m=(n(17),n(8)),j=(n(18),n(19),n(0)),f=function(e){var t=e.deleteComment,n=e.comments;return Object(j.jsxs)("div",{className:"comments",children:[Object(j.jsx)("h4",{children:"Hero comments:"}),n&&n.map((function(e){return Object(j.jsxs)("div",{className:"comments__item",children:[Object(j.jsx)("p",{children:e.title}),Object(j.jsx)("button",{type:"button",className:"comments__button",onClick:function(){return t(e.id)},children:"X"})]},e.id)}))]})};f.defaultProps={comments:[]};var b=function(e){var t=e.name,n=e.birth,r=e.humanId,s=Object(c.useState)([]),a=Object(i.a)(s,2),u=a[0],l=a[1],b=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("".concat(r)));e&&l(e)}),[]),Object(j.jsxs)("section",{className:"section",children:[Object(j.jsxs)("div",{className:"human-info",children:[Object(j.jsx)("h3",{children:t}),Object(j.jsxs)("p",{children:["Year:",n]}),Object(j.jsxs)("form",{className:"human-info__form",onSubmit:function(e){return function(e){e.preventDefault();var t=b.current.value;if(t){var n={title:t,id:Object(o.a)()};b.current.value="",l((function(e){var t=[].concat(Object(m.a)(e),[n]);return localStorage.setItem("".concat(r),JSON.stringify(t)),t}))}}(e)},children:[Object(j.jsx)("button",{type:"submit",className:"human-info__button button is-small is-success",children:"Add Comment"}),Object(j.jsx)("textarea",{placeholder:"Write a comment",ref:b,className:"human-info__textarea textarea is-small is-hovered",required:!0})]})]}),Object(j.jsx)(f,{deleteComment:function(e){l((function(t){var n=t.filter((function(t){return t.id!==e}));return localStorage.setItem("".concat(r),JSON.stringify(n)),n}))},comments:u})]})},d=(n(21),function(){return Object(j.jsx)("div",{className:"Loader",children:Object(j.jsx)("div",{className:"Loader__content"})})}),h=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!0),u=Object(i.a)(s,2),m=u[0],f=u[1];return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("people"));e||l().then((function(e){return e.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{id:Object(o.a)()})}))})).then((function(e){r(e),localStorage.setItem("people",JSON.stringify(e)),f(!1)})),r(e),f(!1)}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h2",{children:" Star Wars heroes: "}),m||!n?Object(j.jsx)(d,{}):Object(j.jsx)("div",{className:"App__table heroes",children:Object(j.jsx)("ul",{className:"heroes__list",children:n.map((function(e){return Object(j.jsx)("li",{className:"heroes__item",children:Object(j.jsx)(b,{humanId:e.id,name:e.name,birth:e.birth_year})},e.id)}))})})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};s.a.render(Object(j.jsx)(h,{}),document.getElementById("root")),O()}],[[22,1,2]]]);
//# sourceMappingURL=main.aff90235.chunk.js.map